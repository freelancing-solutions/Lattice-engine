Excellent — this is the kind of governance a multi-agent development system *needs*.
Let’s formalize this as a **protocol-level rule** for your agentic coding platform (Project Lattice style).

Here’s a structured draft, written as a normative “Agent Execution Rule” specification so that all agents—planning, build, or review—must follow it consistently.

---

### **Rule: Planning Sessions Must Be Logged as GitHub Issues**

**Identifier:** `R-001: PlanningSession-GitHubIssueCompliance`

**Purpose:**
To ensure all agent-initiated or human-assisted *planning sessions* are tracked, auditable, and persistently stored through GitHub’s official Model Context Protocol (MCP) server, using the `github.issues.create` command.
This provides a canonical source of truth for design decisions, task definitions, and context transfer across the ecosystem.

---

#### **Definitions**

* **Planning Session:**
  Any agent process that involves decision-making, architecture design, feature breakdown, or the generation of a project roadmap prior to execution or code generation.

* **MCP GitHub Server:**
  The authenticated and configured `github-mcp-server` instance, which exposes standardized commands such as `issues.create`, `issues.update`, and `issues.comment`.

---

#### **Rule Statement**

1. **Mandatory Logging:**
   Every planning session **must** begin with or produce a GitHub Issue created through the MCP server command:

   ```
   github.issues.create
   ```

   The issue **must** be created before any execution or code generation tasks begin.

2. **Prohibition of Local-Only Plans:**
   No agent may maintain, reference, or act on a local or ephemeral plan that has not been written to GitHub via the MCP `issues.create` interface.

3. **Issue Metadata Requirements:**
   The GitHub Issue **must** include:

   * `title`: concise description of the planning session goal
   * `body`: full transcript or structured summary of the plan (Markdown supported)
   * `labels`: must include `planning-session` and the relevant `agent-role` (e.g., `planner`, `architect`, `reviewer`)
   * Optional: `assignees` for responsible agents or humans

4. **Updates and Revisions:**
   All mid-session or post-session revisions must use:

   ```
   github.issues.comment
   ```

   or

   ```
   github.issues.update
   ```

   depending on whether new information is being appended or the plan itself is being restructured.

5. **Strict Enforcement:**
   Any agent attempting to perform a planning task without a linked GitHub Issue ID shall:

   * Receive an automated policy violation warning,
   * Be halted until the plan is persisted to GitHub through the MCP server,
   * Log the violation to the supervisory audit ledger.

6. **Verification Hook:**
   Supervisory agents or the host environment must validate the existence of a valid GitHub Issue ID in each planning context object before any code or commit-generation command is executed.

---

#### **Rationale**

This rule guarantees auditability, synchronization, and versioned memory of agent deliberations.
It prevents divergence between local agent state and canonical project records.
GitHub Issues provide:

* Persistent context threads (with timestamps and authorship),
* Built-in review and collaboration features,
* Tight integration with downstream PRs, commits, and MCP workflows.

---

#### **Implementation Notes**

* The enforcement layer can be implemented in the **PlanningController** or the **SupervisorAgent**.
* During `plan.init`, agents must call a helper method such as:

  ```python
  def ensure_github_issue(context):
      if not context.github_issue_id:
          issue = github_mcp.create_issue(
              title=context.plan_title,
              body=context.plan_summary,
              labels=["planning-session", context.agent_role]
          )
          context.github_issue_id = issue.id
  ```
* A monitoring policy can also be enforced declaratively via your `.lattice/policies/agent_rules.json` file:

  ```json
  {
    "R-001": {
      "description": "All planning sessions must be logged as GitHub Issues via MCP.",
      "enforced": true,
      "mcp_command": "github.issues.create",
      "labels_required": ["planning-session"]
    }
  }
  ```

---
